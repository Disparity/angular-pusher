"use strict";!function(n){n.module("angular-pusher",[]).provider("pusher",[function(){var e=this,i={key:"",channels:[],options:{debug:!1},aliases:{}};e.subscribe=n.bind(i.channels,i.channels.push),e.alias=function(e,s){return n.isObject(e)?void n.extend(i.aliases,e):void(i.aliases[e]=s)},e.option=function(s,a){if(n.isObject(s))for(var t in s)e.option(t,s[t]);else null===a&&delete i.options[s],i.options[s]=a},e.setApiKey=function(n){i.key=n||i.key},this.$get=["$window",function(s){var a=new s.Pusher(i.key,i.options);a.channelAliases=i.aliases;for(var t in i.channels)a.subscribe(i.channels[t]);return n.extend(e,{subscribe:n.bind(a,a.subscribe),option:function(e){return n.isString(e)?a.config[e]:null}}),a}]}]).run(["pusher","$rootScope","$log",function(e,i,s){e.connection.bind_all(function(a,t){e.config.debug&&s.debug([a,t]);var o={name:a,data:t};switch(a){case"message":n.extend(o,{name:(t.channel?(e.channelAliases[t.channel]||t.channel)+":":"")+t.event,data:t.data});break;default:return}i.$broadcast(o.name,o.data),i.$digest()})}])}(window.angular);